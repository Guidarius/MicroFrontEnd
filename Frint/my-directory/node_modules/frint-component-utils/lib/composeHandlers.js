'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = composeHandlers;

var _DefaultHandler = require('./DefaultHandler');

var _DefaultHandler2 = _interopRequireDefault(_DefaultHandler);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Handler() {
  var _this = this;

  for (var _len = arguments.length, handlers = Array(_len), _key = 0; _key < _len; _key++) {
    handlers[_key] = arguments[_key];
  }

  [_DefaultHandler2.default].concat(handlers).forEach(function (options) {
    Object.keys(options).forEach(function (k) {
      _this[k] = options[k];

      if (typeof options[k] === 'function') {
        _this[k] = _this[k].bind(_this);
      }
    });
  });
}

function composeHandlers() {
  for (var _len2 = arguments.length, handlers = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    handlers[_key2] = arguments[_key2];
  }

  return new (Function.prototype.bind.apply(Handler, [null].concat(handlers)))();
}
module.exports = exports['default'];